# PWM相关

### PWM原理说明

脉冲宽度调制（英语：Pulse Width Modulation，缩写：PWM），简称脉宽调制，是将模拟信号变换为脉冲的一种技术，一般变换后脉冲的周期固定，但脉冲的占空比会依模拟信号的大小而改变

![](http://www.chinabaike.com/uploads/allimg/140615/0022164C9-1.jpg)

两个概念：周期（period）和duty （占空比）

应用：
1. 定位控制（舵机）
2. 速度控制（电机）
3. 能量传递（超声波传感器）

后面逐一说明


### edsion板上得PWM针脚一览
edison一共提供4个PWM输出

J18-7 GP12 PWM0

J18-1 GP13 PWM1

J17-1 GP182 PWM2

J18-8 GP183 PWM3

### mraa API说明

http://iotdk.intel.com/docs/master/mraa/pwm_8h.html

### mraa 例程说明

https://github.com/intel-iot-devkit/mraa/blob/master/examples/c/pwm.c

### pwm功能的应用

#### 舵机的说明
![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQ9PZEr_2ZDRruNJIk3IRUumU0Vy86O-42IP8Yd1nxwdbxkSCXCA)



舵机简单的说就是集成了直流电机、电机控制器和减速器等，并封装在一个便于安装的外壳里的伺服单元。能够利用简单的输入信号比较精确的转动给定角度的电机系统。
舵机安装了一个电位器（或其它角度传感器）检测输出轴转动角度，控制板根据电位器的信息能比较精确的控制和保持输出轴的角度。这样的直流电机控制方式叫闭环控制，所以舵机更准确的说是伺服马达，英文servo。

舵机的主体结构如下图所示，主要有几个部分：外壳、减速齿轮组、电机、电位器、控制电路。工作原理是控制电路接收信号源的控制信号，并驱动电机转动；电位器和齿轮组的末级一起转动，测量舵机轴转动角度；电路板检测并根据电位器判断舵机转动角度，然后控制舵机转动到目标角度或保持在目标角度。


![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGBoqFSAy3lJuGLXybEsyswNd1eSjRXpVq95uZottB6YMWwPNI)

舵机一般是3根线,黑色是0V,红色是+5V,黄色是信号线


![](https://farm6.staticflickr.com/5526/14579181874_feb373a619_o.jpg)

舵机通过接收控制器的PWM脚产生法人脉宽调制信号来告诉舵机转动角度，脉冲宽度是舵机控制器所需的编码信息。舵机的控制脉冲周期20ms，脉宽从0.5ms-2.5ms，分别对应-90度到+90度的位置
对应关系如下图：

![](http://www.i-element.org/wp-content/uploads/2014/07/servoAnimation.gif)

![](https://farm6.staticflickr.com/5564/14580214232_8d87326832_o.jpg)

#### 舵机角度定位例程说明

#### 电机驱动的说明

#### 电机驱动例程说明

#### 超声波传感器的说明

#### 超声波传感器的例程说明

### END

